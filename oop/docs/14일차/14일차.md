# 14일차 2024-04-22  p.236 ~ 

## 파사드 (Facade) 패턴

직원 정보, 직원의 이력 정보, 직원에 대한 평가 정보를 
화면에 보여주는 GUI 프로그램

GUIViewer 클래스는 각 데이터를 제공하는 Dao 객체에
직접 접근하는 구조를 갖게 될 것이다.

HR 팀으로부터 화면뿐만 아니라 XML 이나 엑셀로 동일한
데이터를 추출해 달라는 요구 사항이 들어왔다.

XMLExporter 클래스와 ExcelExporter 클래스를 구현하였다.

문제점은 GUIViewer , XMLExporter , ExcelExporter 사이에서

코드 중복이 발생한다는 점이다 .

세 클래스는 모두 동일한 코드르 이용해서 EmpDao , ResumeDao , EvaluationDao 객체를
사용하고 데이터를 추출한다. 

이런 코드 중복에서 더 큰 문제는 코드가 완전히 똑같기 보다는 
GUIViewer , XMLExporter , ExcelExporter 마다 
약간씩 달라질 수 있다는 점이다. 중복된 코드에서 미세한 차이가 
발생하면 이후 변경해 주어야 할 때 미세한 차이점을 누락할 가능성이 높아지고,

이는 결국 프로그램에 버그를 만드는 원인이 된다.

또 다른 문제는 EmpDao , ResumeDao , EvaluationDao 에 대해
직접적인 의존을 하고 있다는 점이다. 

필요한 건 이 세 개의 Dao 가 제공하는 데이터를 통합한 하나의 데이터인데,

이 데이터를 얻기 위해 개별 Dao 객체에 의존하고 있다. 따라서
이들 Dao들의 인터페이스에 일부 변화가 발생하면 이 Dao 를 직접적으로 사용하고 있는 
나머지 GUIViewer , XMLExporter, ExcelExporter 에 모두 영향을 미치게 된다.

앞서 언급한 두 개의 문제- 코드 중복과 직접적인 의존을 해결하는 데 도움을 주는 패턴이
파사드 패턴이다. 파사드 패턴은 서브 시스템을 감춰 주는 상위 수준의 인터페이스르 제공함으로써
이 문제를 해결한다. 

EmpReportDaoFacade 는 서브 시스템에 속한 각 Dao 를 이용해서
클라이언트가 원하는 데이터를 제공하기 위한 인터페이스를 제공하고 있으며,
파사드 패턴에서 파사드의 역할을 맡는다.

파사든 패턴을 적용함으로써 클라이언트 코드가 간결해지는 것을 알 수 있다.