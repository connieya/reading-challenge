# 8일차 2024-04-08  p.152 ~

## DI 와 테스트

단위 테스트는 한 클래스의 기능을 테스트하는데 초점을 맞춘다. 

DI는 의존 객체를 Mock 객체로 쉽게 대체할 수 있도록 함으로써 단위 테스트를 할 수 있도록 돕는다.

JobQueue 인터페이스를  상속한 FileJobQueue 클래스와 DbJobQueue 클래스 그리고 Transcoder 인터페이스를 상속한
FfmpegTranscoder 클래스와 SolTranscoder 클래스의 구현이 아직 완료되지 않았더라도 , 우리는 Mock 객체를 이용해서 
Worker 클래스를 테스트 할 수 있다. 

특히, Worker 클래스가 DI 패턴을 따른다면, 생성자나 설정 메서드를 이용해서 Mock 객체를 쉽게 전달할 수 있다.

DI를 적용했을 때에는 발생하지 않느다. DbJobQueue 의 구현이 완료되었는지 여부에 상관ㅇ벗이 Mock 객체를 
이용해서 Worker 클래스를 테스트할 수 있고, Mock 객체를 생성하기 위해 기존의 다른 코드를 변경할 필요가 없게 된다. 


## 스프링 프레임워크 예

스프링 프레임워크는 생성자 방식과 설정 메서드 방식을 모두 지원하고 있다.

<constrictor-arg> 태그는 생성자에 전달할 객체를 지정할 때 사용된다.  



<property> 태그는 설정 메서드 바식을 이용한다. 


XML 설정 파일을 작성했다면, 스프링 프레임워크가 제공하는 클래스를 이용해서 XML 파일에 설정된 
객체를 생성하고 조립할 수 있다. 


외부 설정 파일을 사용할 경우의 장점은 의존할 객체가 변경될 때 자바 코드를 수정하고 컴파일할 필요 없이 XML 파일만 수정하면 된다는 점이다.
