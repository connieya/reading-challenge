# 20μΌμ°¨ : 2023-08-22 (p. 272 ~ 283)

## μ”μ•½

**μ μ‘μ‹ν‚¤κΈ° μ–΄λ‘ν„° ν¨ν„΄κ³Ό νΌμ‚¬λ“ ν¨ν„΄**

**μ–΄λ‘ν„° μ‚΄ν΄λ³΄κΈ°**

ν•κµ­μ—μ„ μ‚¬μ©ν•λ ν΄λ€μ „ν™” μ¶©μ „κΈ°λ¥Ό μκµ­μ—μ„λ„ μ‚¬μ©ν•λ ¤λ©΄ ν”λ¬κ·Έ λ¨μ–‘μ„ λ°”κΏ”μ£Όλ” μ–΄λ‘ν„°κ°€ ν•„μ”ν•λ‹¤.

**κ°μ²΄μ§€ν–¥ μ–΄λ‘ν„°**λ„ μΌμƒ μƒν™μ—μ„ μ“°μ΄λ” μ–΄λ‘ν„°μ™€ λ‘κ°™μ€ μ—­ν• μ„ ν•λ‹¤.

μ–΄λ–¤ μΈν„°νμ΄μ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ μ”κµ¬ν•λ” ν•νƒλ΅ μ μ‘μ‹ν‚¤λ” μ—­ν• μ„ ν•λ‹¤.

**κ°μ²΄μ§€ν–¥ μ–΄λ‘ν„° μ•μ•„λ³΄κΈ°**

μ–΄λ–¤ μ†ν”„νΈμ›¨μ–΄ μ‹μ¤ν…μ— μƒλ΅μ΄ μ—…μ²΄μ—μ„ μ κ³µν• ν΄λμ¤ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ”λ° κ·Έ μ—…μ²΄μ—μ„ μ‚¬μ©ν•λ” μΈν„°νμ΄μ¤κ°€ κΈ°μ΅΄μ— μ‚¬μ©ν•λ μΈν„°νμ΄μ¤μ™€ λ‹¤λ¥΄λ‹¤κ³  κ°€μ •ν•΄λ³΄

![34](34.png)

κΈ°μ΅΄ μ½”λ“λ¥Ό λ°”κΏ”μ„ μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μ—†λ” μƒν™©μ΄λ‹¤.

κ²λ‹¤κ°€ μ—…μ²΄μ—μ„ κ³µκΈ‰λ°›μ€ ν΄λμ¤λ„ λ³€κ²½ν•  μ μ—†λ‹¤λ©΄ μ–΄λ–»κ² ν•΄μ•Όν• κΉ?

μƒλ΅μ΄ μ—…μ²΄μ—μ„ μ‚¬μ©ν•λ” μΈν„°νμ΄μ¤λ¥Ό κΈ°μ΅΄μ— μ‚¬μ©ν•λ μΈν„°νμ΄μ¤μ— μ μ‘μ‹μΌ μ£Όλ” ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ‹¤.

![35](35.png)

μ–΄λ‘ν„°λ” ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ”μ²­μ„ λ°›μ•„μ„ μƒλ΅μ΄ μ—…μ²΄μ—μ„ μ κ³µν•λ” ν΄λμ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈκ°€ λ°›μ•„λ“¤μΌ μ μλ” ν•νƒμ μ”μ²­μΌλ΅ λ³€ν™ν•΄ μ£Όλ” μ¤‘κ°μΈ μ—­ν• μ„ ν•λ‹¤.

**μ–΄λ‘ν„° μ‚¬μ© λ°©λ²• μ•μ•„λ³΄κΈ°**

```java
public interface Duck {
    void quack();
    void fly();
}
```

μ¤λ¦¬λ“¤μ΄ κ½¥κ½¥κ±°λ¦¬κ³  λ‚ μ•„λ‹¤λ‹ μ μκ² ν•΄ μ£Όλ” Duck μΈν„°νμ΄μ¤

```java
public class MallardDuck implements Duck {
    @Override
    public void quack() {
        System.out.println("κ½¥!");
    }

    @Override
    public void fly() {
        System.out.println("λ‚ κ³  μμ–΄μ”");
    }
}
```

Duckμ„ κµ¬ν„ν•λ” MallardDuck ν΄λμ¤

κ·Έλ¦¬κ³ 

μƒλ΅ λ“±μ¥ν• κ°€κΈλ¥ μΉ λ©΄μ΅° !!

```java
public interface Turkey {
    void gobble();
    void fly();
}
```

μΉ λ©΄μ΅°λ” κ½¥κ½¥ κ±°λ¦¬μ§€ μ•κ³ , κ³¨κ³¨κ±°λ¦¬λ” μ†λ¦¬λ¥Ό λ‚Έλ‹¤.

μΉ λ©΄μ΅°λ„ λ‚  μ μκΈ΄ ν•μ§€λ§, λ©€λ¦¬ λ‚ μ§€λ” λ»ν•λ‹¤.

```java
public class WildTurkey implements Turkey{
    @Override
    public void gobble() {
        System.out.println("κ³¨κ³¨");
    }

    @Override
    public void fly() {
        System.out.println("μ§§μ€ κ±°λ¦¬λ¥Ό λ‚ κ³  μμ–΄μ”!");
    }
}
```

Turkey λ¥Ό κµ¬ν„ν•λ” WildTurkey ν΄λμ¤

Duck κ°μ²΄κ°€ λ¨μλΌμ„ Turkey κ°μ²΄λ¥Ό λ€μ‹  μ‚¬μ©ν•΄μ•Ό ν•λ” μƒν™©μ΄λΌκ³  κ°€μ •ν•΄ λ³΄μ.

μΈν„°νμ΄μ¤κ°€ λ‹¬λΌμ„ Turkey κ°μ²΄λ¥Ό λ°”λ΅ μ‚¬μ©ν•  μ μ—†λ‹¤.

μ μ‘ μ‹ν‚¬ ν•μ‹μ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤.

```java
public class TurkeyAdapter implements Duck{
    Turkey turkey;

    public TurkeyAdapter(Turkey turkey) {
        this.turkey = turkey;
    }

    @Override
    public void quack() {
        turkey.gobble();
    } // μΈν…μ—γ…£μ¤μ— λ“¤μ–΄ μλ” λ©”μ†λ“λ¥Ό λ¨λ‘ κµ¬ν„ν•΄μ•Ό ν•λ‹¤.

    @Override
    public void fly() {
        for (int i=0; i< 5; i++) {
            turkey.fly();
        }
    }
}
```

- κΈ°μ΅΄ ν•μ‹ κ°μ²΄μ λ νΌλ°μ¤κ°€ ν•„μ”ν•λ‹¤.
- μƒμ„±μμ—μ„ λ νΌλ°μ¤λ¥Ό λ°›μ•„μ¤λ” μ‘μ—…μ„ μ²λ¦¬ν•λ‹¤.
- fly() : λ‘ μΈν„°νμ΄μ¤μ— λ¨λ‘ λ“¤μ–΄ μμ§€λ§ μΉ λ©΄μ΅°λ” μ¤λ¦¬μ²λΌ λ©€λ¦¬ λ‚ μ§€ λ»ν•λ‹¤.
- fly() λ©”μ†λ“λ¥Ό 5λ² νΈμ¶ ν•΄μ„ μΆ€ λ” λ©€λ¦¬ μ›€μ§μ΄λ„λ΅ ν•μ€λ‹¤.

**μ¤λ¦¬ μ–΄λ‘ν„° ν…μ¤νΈ**

```java
public class DuckTestDrive {
    public static void main(String[] args) {
        Duck duck = new MallardDuck();

        Turkey turkey = new WildTurkey();

        Duck turkeyAdapter = new TurkeyAdapter(turkey);

        System.out.println("μΉ λ©΄μ΅°κ°€ λ§ν•κΈΈ");
        turkey.gobble();
        turkey.fly();

        System.out.println("\n μ¤λ¦¬κ°€ λ§ν•κΈΈ");
        testDuck(duck);

        System.out.println("\n μΉ λ©΄μ΅° μ–΄λν„°κ°€ λ§ν•κΈΈ");
        testDuck(turkeyAdapter);
    }

     static void testDuck(Duck duck) {
        duck.quack();
        duck.fly();
    }
}
```

**μ–΄λ‘ν„° ν¨ν„΄ μ•μ•„λ³΄κΈ°**

![36](36.png)

- Turkey κ°μ²΄κ°€ μ–΄λ‘ν‹° μΈν„°νμ΄μ¤μ΄λ‹¤.
- μ–΄λ‘ν„°λ” νƒ€ν‚· μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©°, μ—¬κΈ°μ—λ” μ–΄λ‘ν‹° μΈμ¤ν„΄μ¤κ°€ λ“¤μ–΄μλ‹¤.
- TukeyAdapter μ—μ„λ” νƒ€κΉƒ μΈν„°νμ΄μ¤μΈ Duckμ„ κµ¬ν„ν–λ‹¤.

**ν΄λΌμ΄μ–ΈνΈμ—μ„ μ–΄λ‘ν„°λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•**

1. ν΄λΌμ΄μ–ΈνΈμ—μ„ νƒ€κΉƒ μΈν„°νμ΄μ¤λ΅ λ©”μ†λ“λ¥Ό νΈμ¶ν•΄μ„ μ–΄λ‘ν„°μ— μ”μ²­μ„ λ³΄λ‚Έλ‹¤.
2. μ–΄λ‘ν„°λ” μ–΄λ‘ν‹° μΈν„°νμ΄μ¤λ΅ κ·Έ μ”μ²­μ„ μ–΄λ‘ν‹°μ— κ΄€ν• λ©”μ†λ“ νΈμ¶λ΅ λ³€ν™ν•λ‹¤.
3. ν΄λΌμ΄μ–ΈνΈλ” νΈμ¶ κ²°κ³Όλ¥Ό λ°›κΈ΄ ν•μ§€λ§ μ¤‘κ°„μ— μ–΄λ‘ν„°κ°€ μλ‹¤λ” μ‚¬μ‹¤μ„ λ¨λ¥Έλ‹¤.

**μ–΄λ‘ν„° ν¨ν„΄μ μ •μ**

μ–΄λ‘ν„° ν¨ν„΄ (Adapter Pattern)

<aside>
π’΅ νΉμ • ν΄λμ¤ μΈν„°νμ΄μ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ μ”κµ¬ν•λ” λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•λ‹¤. μΈν„°νμ΄μ¤κ°€ νΈν™λμ§€ μ•μ•„ κ°™μ΄ μ“Έ μ μ—†μ—λ ν΄λμ¤λ¥Ό μ‚¬μ©ν•  μ μκ² λ„μ™€μ¤€λ‹¤.

</aside>

μ΄ ν¨ν„΄μ„ μ‚¬μ©ν•λ©΄ νΈν™λμ§€ μ•λ” μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈλ¥Ό κ·Έλ€λ΅ ν™μ©ν•  μ μλ‹¤.

![37](37.png)

- μ–΄λ‘ν„° ν¨ν„΄μ€ μ—¬λ¬ κ°μ²΄μ§€ν–¥ μ›μΉ™μ„ λ°μν•κ³  μλ‹¤.
- μ–΄λ‘ν‹°λ¥Ό μƒλ΅ λ°”λ€ μΈν„°νμ΄μ¤λ΅ κ°μ€ λ•λ” κ°μ²΄ κµ¬μ„±(composition)μ„ μ‚¬μ©ν•λ‹¤.
- μ΄λ° μ ‘κ·Όλ²•μ€ μ–΄λ‘ν‹°μ λ¨λ“  μ„λΈν΄λμ¤μ— μ–΄λ‘ν„°λ¥Ό μ“Έ μ μλ‹¤λ” μ¥μ μ΄ μλ‹¤.

**κ°μ²΄ μ–΄λ‘ν„°μ™€ ν΄λμ¤ μ–΄λ‘ν„°**

μ–΄λ‘ν„°μ—λ” λ‘ μΆ…λ¥κ°€ μλ‹¤.

ν•λ‚λ” **κ°μ²΄ μ–΄λ‘ν„°**, λ‹¤λ¥Έ ν•λ‚λ” **ν΄λμ¤ μ–΄λ‘ν„°**

ν΄λμ¤ μ–΄λ‘ν„° ν¨ν„΄μ„ μ“°λ ¤λ©΄ λ‹¤μ¤‘ μƒμ†μ΄ ν•„μ”ν•¨

β€»μλ°”μ—μ„λ” λ‹¤μ¤‘ μƒμ†μ΄ λ¶κ°€λ¥ν•¨


![38](38.png)

- **ν΄λμ¤ μ–΄λ‘ν„°**λ” νƒ€κΉƒκ³Ό μ–΄λ‘ν‹° λ¨λ‘ μ„λΈν΄λμ¤λ΅ λ§λ“¤μ–΄μ„ μ‚¬μ©ν•¨
- **κ°μ²΄ μ–΄λ‘ν„°**λ” κµ¬μ„±μΌλ΅ μ–΄λ‘ν‹°μ— μ”μ²­μ„ μ „λ‹¬ν•λ‹¤