# 70일차 2024-06-30 p.396 ~ 398

## 아이템 72. 표준 예외를 사용하라

숙련된 프로그래머는 그렇지 못한 프로그래머 보다 더 많은 코드를 재사용한다.
예외도 마찬가지로 재사용하는 것이 좋으며, 자바 라이브러리는 대부분 API 에서 쓰기에 충분한 수의 예외를 제공한다.

표준 예외를 재사용하면 얻는 게 많다. 그중 최고는 여러분의 API 가 다른 사람이 익히고 사용하기 쉬워진다는 것이다.
많은 프로그래머에게 이미 익숙해진 규약을 그대로 따르기 때문이다.
여러분의 API 를 사용한 프로그램도 낯선 예외를 사용하지 않게 되어 읽기 쉽게 된다는 장점도 크다.
마지막으로, 예외 클래스 수가 적을수록 메모리 사용량도 줄고 클래스를 적재하는 시간도 적게 걸린다. 

가장 많이 재사용되는 예외는 IllegalArgumentException 이다. 
호출자가 인수로 부적절한 값을 넘길 때 던지는 예외로, 예를 들어 반복 횟수를 지정하는 매개변수에 음수를 건낼 때 쓸 수 있다.

IllegalStateException 도 자주 재사용된다. 이 예외는 대상 객체의 상태가 호출된 메서드를 수행하기에 적합하지 않을 때 주로 던진다. 
예컨대 제대로 초기화되지 않은 객체를 사용하려 할 때 던질 수 있다.

메서드가 던지는 모든 예외를 잘못된 인수나 상태라고 뭉뚱그릴 수도 있겠지만, 
그중 특수한 일부는 따로 구분해 쓰는 게 보통이다.

null 값을 허용하지 않는 메서드에 null 을 건네면 관례상 IllegalArgumentException 이 아닌 
NullPointerException 을 던진다. 비슷하게, 어떤 시퀀스의 허용 범위를 넘는 값을 건낼 때도 , 
IllegalArgumentException 보다는 IndexOutOfBoundsException 을 던진다.

재사용하기 좋은 또 다른 예외인 ConcurrentModificationException 은 단일 스레드에서 사용하려고 설계한
객체를 여러 스레드가 동시에 수정하려 할 때 던진다. 

**Exception , RuntimeException , Throwable , Error 는 직접 재사용하지 말자.**

이 클래스들은 추상 클래스라고 생각하기 바란다. 이 예외들은 다른 예외들의 상위 클래스 이므로, 즉 여러 성격의 예외들을 포괄하는 클래스이므로
안정적으로 테스트할 수 없다.


앞서의 표로 정리한 '주요 쓰임'이 상호 배타적이지 않은 탓에, 종종 재사용할 예외를 선택하기가 어려울 때도 있다.
예를 들어 카드 덱을 표현하는 객체가 있고, 인수로 건넨 수만큼의 카드를 뽑아 나눠주는 메서드를 제공한다고 해보자.



